import { stringToBytes as p } from "../encoding/toBytes.js";
import { keccak256 as f } from "../hash/keccak256.js";
import { LruMap as m } from "../lru.js";
const r = /* @__PURE__ */ new m(8192);
function a(s, o) {
  if (r.has(`${s}.${o}`))
    return r.get(`${s}.${o}`);
  const c = s.substring(2).toLowerCase(), n = f(p(c)), e = c.split("");
  for (let t = 0; t < 40; t += 2)
    n[t >> 1] >> 4 >= 8 && e[t] && (e[t] = e[t].toUpperCase()), (n[t >> 1] & 15) >= 8 && e[t + 1] && (e[t + 1] = e[t + 1].toUpperCase());
  const i = `0x${e.join("")}`;
  return r.set(`${s}.${o}`, i), i;
}
export {
  a as checksumAddress
};
