/* eslint-disable */
// sequence-relayer v0.4.1 7f8a4b83b00e0b6849c76c2ff0e23931e26b3d9f
// --
// Code generated by Webrpc-gen@v0.30.2 with typescript generator. DO NOT EDIT.
//
// webrpc-gen -schema=relayer.ridl -target=typescript -client -out=./clients/relayer.gen.ts -compat
// Webrpc description and code-gen version
export const WebrpcVersion = 'v1';
// Schema version of your RIDL schema
export const WebrpcSchemaVersion = 'v0.4.1';
// Schema hash generated from your RIDL schema
export const WebrpcSchemaHash = '7f8a4b83b00e0b6849c76c2ff0e23931e26b3d9f';
//
// Schema types
//
export var ETHTxnStatus;
(function (ETHTxnStatus) {
    ETHTxnStatus["UNKNOWN"] = "UNKNOWN";
    ETHTxnStatus["DROPPED"] = "DROPPED";
    ETHTxnStatus["QUEUED"] = "QUEUED";
    ETHTxnStatus["SENT"] = "SENT";
    ETHTxnStatus["SUCCEEDED"] = "SUCCEEDED";
    ETHTxnStatus["PARTIALLY_FAILED"] = "PARTIALLY_FAILED";
    ETHTxnStatus["FAILED"] = "FAILED";
    ETHTxnStatus["PENDING_PRECONDITION"] = "PENDING_PRECONDITION";
})(ETHTxnStatus || (ETHTxnStatus = {}));
export var TransferType;
(function (TransferType) {
    TransferType["SEND"] = "SEND";
    TransferType["RECEIVE"] = "RECEIVE";
    TransferType["BRIDGE_DEPOSIT"] = "BRIDGE_DEPOSIT";
    TransferType["BRIDGE_WITHDRAW"] = "BRIDGE_WITHDRAW";
    TransferType["BURN"] = "BURN";
    TransferType["UNKNOWN"] = "UNKNOWN";
})(TransferType || (TransferType = {}));
export var SimulateStatus;
(function (SimulateStatus) {
    SimulateStatus["SKIPPED"] = "SKIPPED";
    SimulateStatus["SUCCEEDED"] = "SUCCEEDED";
    SimulateStatus["FAILED"] = "FAILED";
    SimulateStatus["ABORTED"] = "ABORTED";
    SimulateStatus["REVERTED"] = "REVERTED";
    SimulateStatus["NOT_ENOUGH_GAS"] = "NOT_ENOUGH_GAS";
})(SimulateStatus || (SimulateStatus = {}));
export var FeeTokenType;
(function (FeeTokenType) {
    FeeTokenType["UNKNOWN"] = "UNKNOWN";
    FeeTokenType["ERC20_TOKEN"] = "ERC20_TOKEN";
    FeeTokenType["ERC1155_TOKEN"] = "ERC1155_TOKEN";
})(FeeTokenType || (FeeTokenType = {}));
export var SortOrder;
(function (SortOrder) {
    SortOrder["DESC"] = "DESC";
    SortOrder["ASC"] = "ASC";
})(SortOrder || (SortOrder = {}));
//
// Client
//
export class Relayer {
    hostname;
    fetch;
    path = '/rpc/Relayer/';
    constructor(hostname, fetch) {
        this.hostname = hostname.replace(/\/*$/, '');
        this.fetch = (input, init) => fetch(input, init);
    }
    url(name) {
        return this.hostname + this.path + name;
    }
    queryKey = {
        ping: () => ['Relayer', 'ping'],
        version: () => ['Relayer', 'version'],
        runtimeStatus: () => ['Relayer', 'runtimeStatus'],
        getSequenceContext: () => ['Relayer', 'getSequenceContext'],
        getChainID: () => ['Relayer', 'getChainID'],
        sendMetaTxn: (req) => ['Relayer', 'sendMetaTxn', req],
        getMetaTxnNonce: (req) => ['Relayer', 'getMetaTxnNonce', req],
        getMetaTxnReceipt: (req) => ['Relayer', 'getMetaTxnReceipt', req],
        simulate: (req) => ['Relayer', 'simulate', req],
        simulateV3: (req) => ['Relayer', 'simulateV3', req],
        updateMetaTxnGasLimits: (req) => ['Relayer', 'updateMetaTxnGasLimits', req],
        feeTokens: () => ['Relayer', 'feeTokens'],
        feeOptions: (req) => ['Relayer', 'feeOptions', req],
        getMetaTxnNetworkFeeOptions: (req) => ['Relayer', 'getMetaTxnNetworkFeeOptions', req],
        getMetaTransactions: (req) => ['Relayer', 'getMetaTransactions', req],
        getTransactionCost: (req) => ['Relayer', 'getTransactionCost', req],
        sentTransactions: (req) => ['Relayer', 'sentTransactions', req],
        pendingTransactions: (req) => ['Relayer', 'pendingTransactions', req],
        getGasTank: (req) => ['Relayer', 'getGasTank', req],
        addGasTank: (req) => ['Relayer', 'addGasTank', req],
        updateGasTank: (req) => ['Relayer', 'updateGasTank', req],
        nextGasTankBalanceAdjustmentNonce: (req) => ['Relayer', 'nextGasTankBalanceAdjustmentNonce', req],
        adjustGasTankBalance: (req) => ['Relayer', 'adjustGasTankBalance', req],
        getGasTankBalanceAdjustment: (req) => ['Relayer', 'getGasTankBalanceAdjustment', req],
        listGasTankBalanceAdjustments: (req) => ['Relayer', 'listGasTankBalanceAdjustments', req],
        listGasSponsors: (req) => ['Relayer', 'listGasSponsors', req],
        getGasSponsor: (req) => ['Relayer', 'getGasSponsor', req],
        addGasSponsor: (req) => ['Relayer', 'addGasSponsor', req],
        updateGasSponsor: (req) => ['Relayer', 'updateGasSponsor', req],
        removeGasSponsor: (req) => ['Relayer', 'removeGasSponsor', req],
        addressGasSponsors: (req) => ['Relayer', 'addressGasSponsors', req],
        getProjectBalance: (req) => ['Relayer', 'getProjectBalance', req],
        adjustProjectBalance: (req) => ['Relayer', 'adjustProjectBalance', req],
    };
    ping = (headers, signal) => {
        return this.fetch(this.url('Ping'), createHttpRequest('{}', headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'PingReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    version = (headers, signal) => {
        return this.fetch(this.url('Version'), createHttpRequest('{}', headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'VersionReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    runtimeStatus = (headers, signal) => {
        return this.fetch(this.url('RuntimeStatus'), createHttpRequest('{}', headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'RuntimeStatusReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    getSequenceContext = (headers, signal) => {
        return this.fetch(this.url('GetSequenceContext'), createHttpRequest('{}', headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'GetSequenceContextReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    getChainID = (headers, signal) => {
        return this.fetch(this.url('GetChainID'), createHttpRequest('{}', headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'GetChainIDReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    sendMetaTxn = (req, headers, signal) => {
        return this.fetch(this.url('SendMetaTxn'), createHttpRequest(JsonEncode(req, 'SendMetaTxnArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'SendMetaTxnReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    getMetaTxnNonce = (req, headers, signal) => {
        return this.fetch(this.url('GetMetaTxnNonce'), createHttpRequest(JsonEncode(req, 'GetMetaTxnNonceArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'GetMetaTxnNonceReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    getMetaTxnReceipt = (req, headers, signal) => {
        return this.fetch(this.url('GetMetaTxnReceipt'), createHttpRequest(JsonEncode(req, 'GetMetaTxnReceiptArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'GetMetaTxnReceiptReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    simulate = (req, headers, signal) => {
        return this.fetch(this.url('Simulate'), createHttpRequest(JsonEncode(req, 'SimulateArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'SimulateReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    simulateV3 = (req, headers, signal) => {
        return this.fetch(this.url('SimulateV3'), createHttpRequest(JsonEncode(req, 'SimulateV3Args'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'SimulateV3Return');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    updateMetaTxnGasLimits = (req, headers, signal) => {
        return this.fetch(this.url('UpdateMetaTxnGasLimits'), createHttpRequest(JsonEncode(req, 'UpdateMetaTxnGasLimitsArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'UpdateMetaTxnGasLimitsReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    feeTokens = (headers, signal) => {
        return this.fetch(this.url('FeeTokens'), createHttpRequest('{}', headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'FeeTokensReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    feeOptions = (req, headers, signal) => {
        return this.fetch(this.url('FeeOptions'), createHttpRequest(JsonEncode(req, 'FeeOptionsArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'FeeOptionsReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    getMetaTxnNetworkFeeOptions = (req, headers, signal) => {
        return this.fetch(this.url('GetMetaTxnNetworkFeeOptions'), createHttpRequest(JsonEncode(req, 'GetMetaTxnNetworkFeeOptionsArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'GetMetaTxnNetworkFeeOptionsReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    getMetaTransactions = (req, headers, signal) => {
        return this.fetch(this.url('GetMetaTransactions'), createHttpRequest(JsonEncode(req, 'GetMetaTransactionsArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'GetMetaTransactionsReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    getTransactionCost = (req, headers, signal) => {
        return this.fetch(this.url('GetTransactionCost'), createHttpRequest(JsonEncode(req, 'GetTransactionCostArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'GetTransactionCostReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    sentTransactions = (req, headers, signal) => {
        return this.fetch(this.url('SentTransactions'), createHttpRequest(JsonEncode(req, 'SentTransactionsArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'SentTransactionsReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    pendingTransactions = (req, headers, signal) => {
        return this.fetch(this.url('PendingTransactions'), createHttpRequest(JsonEncode(req, 'PendingTransactionsArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'PendingTransactionsReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    getGasTank = (req, headers, signal) => {
        return this.fetch(this.url('GetGasTank'), createHttpRequest(JsonEncode(req, 'GetGasTankArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'GetGasTankReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    addGasTank = (req, headers, signal) => {
        return this.fetch(this.url('AddGasTank'), createHttpRequest(JsonEncode(req, 'AddGasTankArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'AddGasTankReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    updateGasTank = (req, headers, signal) => {
        return this.fetch(this.url('UpdateGasTank'), createHttpRequest(JsonEncode(req, 'UpdateGasTankArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'UpdateGasTankReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    nextGasTankBalanceAdjustmentNonce = (req, headers, signal) => {
        return this.fetch(this.url('NextGasTankBalanceAdjustmentNonce'), createHttpRequest(JsonEncode(req, 'NextGasTankBalanceAdjustmentNonceArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'NextGasTankBalanceAdjustmentNonceReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    adjustGasTankBalance = (req, headers, signal) => {
        return this.fetch(this.url('AdjustGasTankBalance'), createHttpRequest(JsonEncode(req, 'AdjustGasTankBalanceArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'AdjustGasTankBalanceReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    getGasTankBalanceAdjustment = (req, headers, signal) => {
        return this.fetch(this.url('GetGasTankBalanceAdjustment'), createHttpRequest(JsonEncode(req, 'GetGasTankBalanceAdjustmentArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'GetGasTankBalanceAdjustmentReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    listGasTankBalanceAdjustments = (req, headers, signal) => {
        return this.fetch(this.url('ListGasTankBalanceAdjustments'), createHttpRequest(JsonEncode(req, 'ListGasTankBalanceAdjustmentsArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'ListGasTankBalanceAdjustmentsReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    listGasSponsors = (req, headers, signal) => {
        return this.fetch(this.url('ListGasSponsors'), createHttpRequest(JsonEncode(req, 'ListGasSponsorsArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'ListGasSponsorsReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    getGasSponsor = (req, headers, signal) => {
        return this.fetch(this.url('GetGasSponsor'), createHttpRequest(JsonEncode(req, 'GetGasSponsorArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'GetGasSponsorReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    addGasSponsor = (req, headers, signal) => {
        return this.fetch(this.url('AddGasSponsor'), createHttpRequest(JsonEncode(req, 'AddGasSponsorArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'AddGasSponsorReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    updateGasSponsor = (req, headers, signal) => {
        return this.fetch(this.url('UpdateGasSponsor'), createHttpRequest(JsonEncode(req, 'UpdateGasSponsorArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'UpdateGasSponsorReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    removeGasSponsor = (req, headers, signal) => {
        return this.fetch(this.url('RemoveGasSponsor'), createHttpRequest(JsonEncode(req, 'RemoveGasSponsorArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'RemoveGasSponsorReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    addressGasSponsors = (req, headers, signal) => {
        return this.fetch(this.url('AddressGasSponsors'), createHttpRequest(JsonEncode(req, 'AddressGasSponsorsArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'AddressGasSponsorsReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    getProjectBalance = (req, headers, signal) => {
        return this.fetch(this.url('GetProjectBalance'), createHttpRequest(JsonEncode(req, 'GetProjectBalanceArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'GetProjectBalanceReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
    adjustProjectBalance = (req, headers, signal) => {
        return this.fetch(this.url('AdjustProjectBalance'), createHttpRequest(JsonEncode(req, 'AdjustProjectBalanceArgs'), headers, signal)).then((res) => {
            return buildResponse(res).then((_data) => {
                return JsonDecode(_data, 'AdjustProjectBalanceReturn');
            });
        }, (error) => {
            throw WebrpcRequestFailedError.new({
                cause: `fetch(): ${error instanceof Error ? error.message : String(error)}`,
            });
        });
    };
}
const createHttpRequest = (body = '{}', headers = {}, signal = null) => {
    const reqHeaders = { ...headers, 'Content-Type': 'application/json' };
    return { method: 'POST', headers: reqHeaders, body, signal };
};
const buildResponse = (res) => {
    return res.text().then((text) => {
        let data;
        try {
            data = JSON.parse(text);
        }
        catch (error) {
            throw WebrpcBadResponseError.new({
                status: res.status,
                cause: `JSON.parse(): ${error instanceof Error ? error.message : String(error)}: response text: ${text}`,
            });
        }
        if (!res.ok) {
            const code = typeof data.code === 'number' ? data.code : 0;
            throw (webrpcErrorByCode[code] || WebrpcError).new(data);
        }
        return data;
    });
};
//
// BigInt helpers
//
const BIG_INT_FIELDS = {
    SendMetaTxnArgs: [['preconditions', 'TransactionPrecondition[]']],
    TransactionPrecondition: ['minAmount'],
    Transactions: [['preconditions', 'TransactionPrecondition[]']],
};
// Encode in-place: mutate provided object graph to serialize bigints to strings.
function encodeType(typ, obj) {
    if (obj == null || typeof obj !== 'object')
        return obj;
    const descs = BIG_INT_FIELDS[typ] || [];
    if (!descs.length)
        return obj;
    for (const d of descs) {
        if (Array.isArray(d)) {
            const [fieldName, nestedType] = d;
            if (fieldName.endsWith('[]')) {
                const base = fieldName.slice(0, -2);
                const arr = obj[base];
                if (Array.isArray(arr)) {
                    for (let i = 0; i < arr.length; i++)
                        arr[i] = encodeType(nestedType, arr[i]);
                }
            }
            else if (obj[fieldName]) {
                obj[fieldName] = encodeType(nestedType, obj[fieldName]);
            }
            continue;
        }
        if (d.endsWith('[]')) {
            const base = d.slice(0, -2);
            const arr = obj[base];
            if (Array.isArray(arr)) {
                for (let i = 0; i < arr.length; i++) {
                    if (typeof arr[i] === 'bigint')
                        arr[i] = arr[i].toString();
                }
            }
            continue;
        }
        if (typeof obj[d] === 'bigint')
            obj[d] = obj[d].toString();
    }
    return obj;
}
// Decode in-place: mutate object graph; throw if expected numeric string is invalid.
function decodeType(typ, obj) {
    if (obj == null || typeof obj !== 'object')
        return obj;
    const descs = BIG_INT_FIELDS[typ] || [];
    if (!descs.length)
        return obj;
    for (const d of descs) {
        if (Array.isArray(d)) {
            const [fieldName, nestedType] = d;
            if (fieldName.endsWith('[]')) {
                const base = fieldName.slice(0, -2);
                const arr = obj[base];
                if (Array.isArray(arr)) {
                    for (let i = 0; i < arr.length; i++)
                        arr[i] = decodeType(nestedType, arr[i]);
                }
            }
            else if (obj[fieldName]) {
                obj[fieldName] = decodeType(nestedType, obj[fieldName]);
            }
            continue;
        }
        if (d.endsWith('[]')) {
            const base = d.slice(0, -2);
            const arr = obj[base];
            if (Array.isArray(arr)) {
                for (let i = 0; i < arr.length; i++) {
                    const v = arr[i];
                    if (typeof v === 'string') {
                        try {
                            arr[i] = BigInt(v);
                        }
                        catch (e) {
                            throw WebrpcBadResponseError.new({ cause: `Invalid bigint value for ${base}[${i}]: ${v}` });
                        }
                    }
                }
            }
            continue;
        }
        const v = obj[d];
        if (typeof v === 'string') {
            try {
                obj[d] = BigInt(v);
            }
            catch (e) {
                throw WebrpcBadResponseError.new({ cause: `Invalid bigint value for ${d}: ${v}` });
            }
        }
    }
    return obj;
}
// Encode object of given root type to JSON with BigInts converted to decimal strings.
export const JsonEncode = (obj, typ = '') => {
    return JSON.stringify(encodeType(typ, obj));
};
// Decode data (JSON string or already-parsed object) and convert declared BigInt string fields back to BigInt.
export const JsonDecode = (data, typ = '') => {
    let parsed = data;
    if (typeof data === 'string') {
        try {
            parsed = JSON.parse(data);
        }
        catch (err) {
            throw WebrpcBadResponseError.new({ cause: `JsonDecode: JSON.parse failed: ${err.message}` });
        }
    }
    return decodeType(typ, parsed);
};
export class WebrpcError extends Error {
    code;
    status;
    constructor(error = {}) {
        super(error.message);
        this.name = error.name || 'WebrpcEndpointError';
        this.code = typeof error.code === 'number' ? error.code : 0;
        this.message = error.message || `endpoint error`;
        this.status = typeof error.status === 'number' ? error.status : 400;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, WebrpcError.prototype);
    }
    static new(payload) {
        return new this({ message: payload.message, code: payload.code, status: payload.status, cause: payload.cause });
    }
}
export class WebrpcEndpointError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'WebrpcEndpoint';
        this.code = typeof error.code === 'number' ? error.code : 0;
        this.message = error.message || `endpoint error`;
        this.status = typeof error.status === 'number' ? error.status : 400;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, WebrpcEndpointError.prototype);
    }
}
export class WebrpcRequestFailedError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'WebrpcRequestFailed';
        this.code = typeof error.code === 'number' ? error.code : -1;
        this.message = error.message || `request failed`;
        this.status = typeof error.status === 'number' ? error.status : 400;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, WebrpcRequestFailedError.prototype);
    }
}
export class WebrpcBadRouteError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'WebrpcBadRoute';
        this.code = typeof error.code === 'number' ? error.code : -2;
        this.message = error.message || `bad route`;
        this.status = typeof error.status === 'number' ? error.status : 404;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, WebrpcBadRouteError.prototype);
    }
}
export class WebrpcBadMethodError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'WebrpcBadMethod';
        this.code = typeof error.code === 'number' ? error.code : -3;
        this.message = error.message || `bad method`;
        this.status = typeof error.status === 'number' ? error.status : 405;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, WebrpcBadMethodError.prototype);
    }
}
export class WebrpcBadRequestError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'WebrpcBadRequest';
        this.code = typeof error.code === 'number' ? error.code : -4;
        this.message = error.message || `bad request`;
        this.status = typeof error.status === 'number' ? error.status : 400;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, WebrpcBadRequestError.prototype);
    }
}
export class WebrpcBadResponseError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'WebrpcBadResponse';
        this.code = typeof error.code === 'number' ? error.code : -5;
        this.message = error.message || `bad response`;
        this.status = typeof error.status === 'number' ? error.status : 500;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, WebrpcBadResponseError.prototype);
    }
}
export class WebrpcServerPanicError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'WebrpcServerPanic';
        this.code = typeof error.code === 'number' ? error.code : -6;
        this.message = error.message || `server panic`;
        this.status = typeof error.status === 'number' ? error.status : 500;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, WebrpcServerPanicError.prototype);
    }
}
export class WebrpcInternalErrorError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'WebrpcInternalError';
        this.code = typeof error.code === 'number' ? error.code : -7;
        this.message = error.message || `internal error`;
        this.status = typeof error.status === 'number' ? error.status : 500;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, WebrpcInternalErrorError.prototype);
    }
}
export class WebrpcClientAbortedError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'WebrpcClientAborted';
        this.code = typeof error.code === 'number' ? error.code : -8;
        this.message = error.message || `request aborted by client`;
        this.status = typeof error.status === 'number' ? error.status : 400;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, WebrpcClientAbortedError.prototype);
    }
}
export class WebrpcStreamLostError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'WebrpcStreamLost';
        this.code = typeof error.code === 'number' ? error.code : -9;
        this.message = error.message || `stream lost`;
        this.status = typeof error.status === 'number' ? error.status : 400;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, WebrpcStreamLostError.prototype);
    }
}
export class WebrpcStreamFinishedError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'WebrpcStreamFinished';
        this.code = typeof error.code === 'number' ? error.code : -10;
        this.message = error.message || `stream finished`;
        this.status = typeof error.status === 'number' ? error.status : 200;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, WebrpcStreamFinishedError.prototype);
    }
}
//
// Schema errors
//
export class UnauthorizedError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'Unauthorized';
        this.code = typeof error.code === 'number' ? error.code : 1000;
        this.message = error.message || `Unauthorized access`;
        this.status = typeof error.status === 'number' ? error.status : 401;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, UnauthorizedError.prototype);
    }
}
export class PermissionDeniedError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'PermissionDenied';
        this.code = typeof error.code === 'number' ? error.code : 1001;
        this.message = error.message || `Permission denied`;
        this.status = typeof error.status === 'number' ? error.status : 403;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, PermissionDeniedError.prototype);
    }
}
export class SessionExpiredError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'SessionExpired';
        this.code = typeof error.code === 'number' ? error.code : 1002;
        this.message = error.message || `Session expired`;
        this.status = typeof error.status === 'number' ? error.status : 403;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, SessionExpiredError.prototype);
    }
}
export class MethodNotFoundError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'MethodNotFound';
        this.code = typeof error.code === 'number' ? error.code : 1003;
        this.message = error.message || `Method not found`;
        this.status = typeof error.status === 'number' ? error.status : 404;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, MethodNotFoundError.prototype);
    }
}
export class RequestConflictError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'RequestConflict';
        this.code = typeof error.code === 'number' ? error.code : 1004;
        this.message = error.message || `Conflict with target resource`;
        this.status = typeof error.status === 'number' ? error.status : 409;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, RequestConflictError.prototype);
    }
}
export class AbortedError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'Aborted';
        this.code = typeof error.code === 'number' ? error.code : 1005;
        this.message = error.message || `Request aborted`;
        this.status = typeof error.status === 'number' ? error.status : 400;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, AbortedError.prototype);
    }
}
export class GeoblockedError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'Geoblocked';
        this.code = typeof error.code === 'number' ? error.code : 1006;
        this.message = error.message || `Geoblocked region`;
        this.status = typeof error.status === 'number' ? error.status : 451;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, GeoblockedError.prototype);
    }
}
export class RateLimitedError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'RateLimited';
        this.code = typeof error.code === 'number' ? error.code : 1007;
        this.message = error.message || `Rate-limited. Please slow down.`;
        this.status = typeof error.status === 'number' ? error.status : 429;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, RateLimitedError.prototype);
    }
}
export class ProjectNotFoundError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'ProjectNotFound';
        this.code = typeof error.code === 'number' ? error.code : 1008;
        this.message = error.message || `Project not found`;
        this.status = typeof error.status === 'number' ? error.status : 401;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, ProjectNotFoundError.prototype);
    }
}
export class AccessKeyNotFoundError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'AccessKeyNotFound';
        this.code = typeof error.code === 'number' ? error.code : 1101;
        this.message = error.message || `Access key not found`;
        this.status = typeof error.status === 'number' ? error.status : 401;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, AccessKeyNotFoundError.prototype);
    }
}
export class AccessKeyMismatchError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'AccessKeyMismatch';
        this.code = typeof error.code === 'number' ? error.code : 1102;
        this.message = error.message || `Access key mismatch`;
        this.status = typeof error.status === 'number' ? error.status : 409;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, AccessKeyMismatchError.prototype);
    }
}
export class InvalidOriginError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'InvalidOrigin';
        this.code = typeof error.code === 'number' ? error.code : 1103;
        this.message = error.message || `Invalid origin for Access Key`;
        this.status = typeof error.status === 'number' ? error.status : 403;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, InvalidOriginError.prototype);
    }
}
export class InvalidServiceError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'InvalidService';
        this.code = typeof error.code === 'number' ? error.code : 1104;
        this.message = error.message || `Service not enabled for Access key`;
        this.status = typeof error.status === 'number' ? error.status : 403;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, InvalidServiceError.prototype);
    }
}
export class UnauthorizedUserError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'UnauthorizedUser';
        this.code = typeof error.code === 'number' ? error.code : 1105;
        this.message = error.message || `Unauthorized user`;
        this.status = typeof error.status === 'number' ? error.status : 403;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, UnauthorizedUserError.prototype);
    }
}
export class QuotaExceededError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'QuotaExceeded';
        this.code = typeof error.code === 'number' ? error.code : 1200;
        this.message = error.message || `Quota request exceeded`;
        this.status = typeof error.status === 'number' ? error.status : 429;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, QuotaExceededError.prototype);
    }
}
export class QuotaRateLimitError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'QuotaRateLimit';
        this.code = typeof error.code === 'number' ? error.code : 1201;
        this.message = error.message || `Quota rate limit exceeded`;
        this.status = typeof error.status === 'number' ? error.status : 429;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, QuotaRateLimitError.prototype);
    }
}
export class NoDefaultKeyError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'NoDefaultKey';
        this.code = typeof error.code === 'number' ? error.code : 1300;
        this.message = error.message || `No default access key found`;
        this.status = typeof error.status === 'number' ? error.status : 403;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, NoDefaultKeyError.prototype);
    }
}
export class MaxAccessKeysError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'MaxAccessKeys';
        this.code = typeof error.code === 'number' ? error.code : 1301;
        this.message = error.message || `Access keys limit reached`;
        this.status = typeof error.status === 'number' ? error.status : 403;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, MaxAccessKeysError.prototype);
    }
}
export class AtLeastOneKeyError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'AtLeastOneKey';
        this.code = typeof error.code === 'number' ? error.code : 1302;
        this.message = error.message || `You need at least one Access Key`;
        this.status = typeof error.status === 'number' ? error.status : 403;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, AtLeastOneKeyError.prototype);
    }
}
export class TimeoutError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'Timeout';
        this.code = typeof error.code === 'number' ? error.code : 1900;
        this.message = error.message || `Request timed out`;
        this.status = typeof error.status === 'number' ? error.status : 408;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, TimeoutError.prototype);
    }
}
export class InvalidArgumentError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'InvalidArgument';
        this.code = typeof error.code === 'number' ? error.code : 2001;
        this.message = error.message || `Invalid argument`;
        this.status = typeof error.status === 'number' ? error.status : 400;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, InvalidArgumentError.prototype);
    }
}
export class UnavailableError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'Unavailable';
        this.code = typeof error.code === 'number' ? error.code : 2002;
        this.message = error.message || `Unavailable resource`;
        this.status = typeof error.status === 'number' ? error.status : 400;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, UnavailableError.prototype);
    }
}
export class QueryFailedError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'QueryFailed';
        this.code = typeof error.code === 'number' ? error.code : 2003;
        this.message = error.message || `Query failed`;
        this.status = typeof error.status === 'number' ? error.status : 400;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, QueryFailedError.prototype);
    }
}
export class NotFoundError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'NotFound';
        this.code = typeof error.code === 'number' ? error.code : 3000;
        this.message = error.message || `Resource not found`;
        this.status = typeof error.status === 'number' ? error.status : 400;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, NotFoundError.prototype);
    }
}
export class InsufficientFeeError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'InsufficientFee';
        this.code = typeof error.code === 'number' ? error.code : 3004;
        this.message = error.message || `Insufficient fee`;
        this.status = typeof error.status === 'number' ? error.status : 402;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, InsufficientFeeError.prototype);
    }
}
export class NotEnoughBalanceError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'NotEnoughBalance';
        this.code = typeof error.code === 'number' ? error.code : 3005;
        this.message = error.message || `Not enough balance`;
        this.status = typeof error.status === 'number' ? error.status : 402;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, NotEnoughBalanceError.prototype);
    }
}
export class SimulationFailedError extends WebrpcError {
    constructor(error = {}) {
        super(error);
        this.name = error.name || 'SimulationFailed';
        this.code = typeof error.code === 'number' ? error.code : 3006;
        this.message = error.message || `Simulation failed`;
        this.status = typeof error.status === 'number' ? error.status : 400;
        if (error.cause !== undefined)
            this.cause = error.cause;
        Object.setPrototypeOf(this, SimulationFailedError.prototype);
    }
}
export var errors;
(function (errors) {
    errors["WebrpcEndpoint"] = "WebrpcEndpoint";
    errors["WebrpcRequestFailed"] = "WebrpcRequestFailed";
    errors["WebrpcBadRoute"] = "WebrpcBadRoute";
    errors["WebrpcBadMethod"] = "WebrpcBadMethod";
    errors["WebrpcBadRequest"] = "WebrpcBadRequest";
    errors["WebrpcBadResponse"] = "WebrpcBadResponse";
    errors["WebrpcServerPanic"] = "WebrpcServerPanic";
    errors["WebrpcInternalError"] = "WebrpcInternalError";
    errors["WebrpcClientAborted"] = "WebrpcClientAborted";
    errors["WebrpcStreamLost"] = "WebrpcStreamLost";
    errors["WebrpcStreamFinished"] = "WebrpcStreamFinished";
    errors["Unauthorized"] = "Unauthorized";
    errors["PermissionDenied"] = "PermissionDenied";
    errors["SessionExpired"] = "SessionExpired";
    errors["MethodNotFound"] = "MethodNotFound";
    errors["RequestConflict"] = "RequestConflict";
    errors["Aborted"] = "Aborted";
    errors["Geoblocked"] = "Geoblocked";
    errors["RateLimited"] = "RateLimited";
    errors["ProjectNotFound"] = "ProjectNotFound";
    errors["AccessKeyNotFound"] = "AccessKeyNotFound";
    errors["AccessKeyMismatch"] = "AccessKeyMismatch";
    errors["InvalidOrigin"] = "InvalidOrigin";
    errors["InvalidService"] = "InvalidService";
    errors["UnauthorizedUser"] = "UnauthorizedUser";
    errors["QuotaExceeded"] = "QuotaExceeded";
    errors["QuotaRateLimit"] = "QuotaRateLimit";
    errors["NoDefaultKey"] = "NoDefaultKey";
    errors["MaxAccessKeys"] = "MaxAccessKeys";
    errors["AtLeastOneKey"] = "AtLeastOneKey";
    errors["Timeout"] = "Timeout";
    errors["InvalidArgument"] = "InvalidArgument";
    errors["Unavailable"] = "Unavailable";
    errors["QueryFailed"] = "QueryFailed";
    errors["NotFound"] = "NotFound";
    errors["InsufficientFee"] = "InsufficientFee";
    errors["NotEnoughBalance"] = "NotEnoughBalance";
    errors["SimulationFailed"] = "SimulationFailed";
})(errors || (errors = {}));
export var WebrpcErrorCodes;
(function (WebrpcErrorCodes) {
    WebrpcErrorCodes[WebrpcErrorCodes["WebrpcEndpoint"] = 0] = "WebrpcEndpoint";
    WebrpcErrorCodes[WebrpcErrorCodes["WebrpcRequestFailed"] = -1] = "WebrpcRequestFailed";
    WebrpcErrorCodes[WebrpcErrorCodes["WebrpcBadRoute"] = -2] = "WebrpcBadRoute";
    WebrpcErrorCodes[WebrpcErrorCodes["WebrpcBadMethod"] = -3] = "WebrpcBadMethod";
    WebrpcErrorCodes[WebrpcErrorCodes["WebrpcBadRequest"] = -4] = "WebrpcBadRequest";
    WebrpcErrorCodes[WebrpcErrorCodes["WebrpcBadResponse"] = -5] = "WebrpcBadResponse";
    WebrpcErrorCodes[WebrpcErrorCodes["WebrpcServerPanic"] = -6] = "WebrpcServerPanic";
    WebrpcErrorCodes[WebrpcErrorCodes["WebrpcInternalError"] = -7] = "WebrpcInternalError";
    WebrpcErrorCodes[WebrpcErrorCodes["WebrpcClientAborted"] = -8] = "WebrpcClientAborted";
    WebrpcErrorCodes[WebrpcErrorCodes["WebrpcStreamLost"] = -9] = "WebrpcStreamLost";
    WebrpcErrorCodes[WebrpcErrorCodes["WebrpcStreamFinished"] = -10] = "WebrpcStreamFinished";
    WebrpcErrorCodes[WebrpcErrorCodes["Unauthorized"] = 1000] = "Unauthorized";
    WebrpcErrorCodes[WebrpcErrorCodes["PermissionDenied"] = 1001] = "PermissionDenied";
    WebrpcErrorCodes[WebrpcErrorCodes["SessionExpired"] = 1002] = "SessionExpired";
    WebrpcErrorCodes[WebrpcErrorCodes["MethodNotFound"] = 1003] = "MethodNotFound";
    WebrpcErrorCodes[WebrpcErrorCodes["RequestConflict"] = 1004] = "RequestConflict";
    WebrpcErrorCodes[WebrpcErrorCodes["Aborted"] = 1005] = "Aborted";
    WebrpcErrorCodes[WebrpcErrorCodes["Geoblocked"] = 1006] = "Geoblocked";
    WebrpcErrorCodes[WebrpcErrorCodes["RateLimited"] = 1007] = "RateLimited";
    WebrpcErrorCodes[WebrpcErrorCodes["ProjectNotFound"] = 1008] = "ProjectNotFound";
    WebrpcErrorCodes[WebrpcErrorCodes["AccessKeyNotFound"] = 1101] = "AccessKeyNotFound";
    WebrpcErrorCodes[WebrpcErrorCodes["AccessKeyMismatch"] = 1102] = "AccessKeyMismatch";
    WebrpcErrorCodes[WebrpcErrorCodes["InvalidOrigin"] = 1103] = "InvalidOrigin";
    WebrpcErrorCodes[WebrpcErrorCodes["InvalidService"] = 1104] = "InvalidService";
    WebrpcErrorCodes[WebrpcErrorCodes["UnauthorizedUser"] = 1105] = "UnauthorizedUser";
    WebrpcErrorCodes[WebrpcErrorCodes["QuotaExceeded"] = 1200] = "QuotaExceeded";
    WebrpcErrorCodes[WebrpcErrorCodes["QuotaRateLimit"] = 1201] = "QuotaRateLimit";
    WebrpcErrorCodes[WebrpcErrorCodes["NoDefaultKey"] = 1300] = "NoDefaultKey";
    WebrpcErrorCodes[WebrpcErrorCodes["MaxAccessKeys"] = 1301] = "MaxAccessKeys";
    WebrpcErrorCodes[WebrpcErrorCodes["AtLeastOneKey"] = 1302] = "AtLeastOneKey";
    WebrpcErrorCodes[WebrpcErrorCodes["Timeout"] = 1900] = "Timeout";
    WebrpcErrorCodes[WebrpcErrorCodes["InvalidArgument"] = 2001] = "InvalidArgument";
    WebrpcErrorCodes[WebrpcErrorCodes["Unavailable"] = 2002] = "Unavailable";
    WebrpcErrorCodes[WebrpcErrorCodes["QueryFailed"] = 2003] = "QueryFailed";
    WebrpcErrorCodes[WebrpcErrorCodes["NotFound"] = 3000] = "NotFound";
    WebrpcErrorCodes[WebrpcErrorCodes["InsufficientFee"] = 3004] = "InsufficientFee";
    WebrpcErrorCodes[WebrpcErrorCodes["NotEnoughBalance"] = 3005] = "NotEnoughBalance";
    WebrpcErrorCodes[WebrpcErrorCodes["SimulationFailed"] = 3006] = "SimulationFailed";
})(WebrpcErrorCodes || (WebrpcErrorCodes = {}));
export const webrpcErrorByCode = {
    [0]: WebrpcEndpointError,
    [-1]: WebrpcRequestFailedError,
    [-2]: WebrpcBadRouteError,
    [-3]: WebrpcBadMethodError,
    [-4]: WebrpcBadRequestError,
    [-5]: WebrpcBadResponseError,
    [-6]: WebrpcServerPanicError,
    [-7]: WebrpcInternalErrorError,
    [-8]: WebrpcClientAbortedError,
    [-9]: WebrpcStreamLostError,
    [-10]: WebrpcStreamFinishedError,
    [1000]: UnauthorizedError,
    [1001]: PermissionDeniedError,
    [1002]: SessionExpiredError,
    [1003]: MethodNotFoundError,
    [1004]: RequestConflictError,
    [1005]: AbortedError,
    [1006]: GeoblockedError,
    [1007]: RateLimitedError,
    [1008]: ProjectNotFoundError,
    [1101]: AccessKeyNotFoundError,
    [1102]: AccessKeyMismatchError,
    [1103]: InvalidOriginError,
    [1104]: InvalidServiceError,
    [1105]: UnauthorizedUserError,
    [1200]: QuotaExceededError,
    [1201]: QuotaRateLimitError,
    [1300]: NoDefaultKeyError,
    [1301]: MaxAccessKeysError,
    [1302]: AtLeastOneKeyError,
    [1900]: TimeoutError,
    [2001]: InvalidArgumentError,
    [2002]: UnavailableError,
    [2003]: QueryFailedError,
    [3000]: NotFoundError,
    [3004]: InsufficientFeeError,
    [3005]: NotEnoughBalanceError,
    [3006]: SimulationFailedError,
};
//
// Webrpc
//
export const WebrpcHeader = 'Webrpc';
export const WebrpcHeaderValue = 'webrpc@v0.30.2;gen-typescript@v0.22.2;sequence-relayer@v0.4.1';
export function VersionFromHeader(headers) {
    const headerValue = headers.get(WebrpcHeader);
    if (!headerValue) {
        return {
            WebrpcGenVersion: '',
            codeGenName: '',
            codeGenVersion: '',
            schemaName: '',
            schemaVersion: '',
        };
    }
    return parseWebrpcGenVersions(headerValue);
}
function parseWebrpcGenVersions(header) {
    const versions = header.split(';');
    if (versions.length < 3) {
        return {
            WebrpcGenVersion: '',
            codeGenName: '',
            codeGenVersion: '',
            schemaName: '',
            schemaVersion: '',
        };
    }
    const [_, WebrpcGenVersion] = versions[0].split('@');
    const [codeGenName, codeGenVersion] = versions[1].split('@');
    const [schemaName, schemaVersion] = versions[2].split('@');
    return {
        WebrpcGenVersion: WebrpcGenVersion ?? '',
        codeGenName: codeGenName ?? '',
        codeGenVersion: codeGenVersion ?? '',
        schemaName: schemaName ?? '',
        schemaVersion: schemaVersion ?? '',
    };
}
